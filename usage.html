<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at Mar 11, 2013
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20130311" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Maven - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Sample Markdown Documentation Project</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2013-03-11</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.0.0-SNAPSHOT</li>
                      
                
            
      
                                              
    <li class="pull-right">              <a href="http://www.epam.com" class="externalLink" title="EPAM">
        EPAM</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="http://code.google.com/p/doxia-module-markdown/" class="externalLink" title="doxia-markdown">
        doxia-markdown</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="http://maven.apache.org/" class="externalLink" title="Maven 2">
        Maven 2</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="http://www.apache.org/" class="externalLink" title="Apache">
        Apache</a>
  </li>

                        </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
            
                <ul class="nav nav-list">
                    <li class="nav-header">Markdown Snippet Macro</li>
                                
      <li>
    
                          <a href="index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>Usage</a>
          </li>
                  
      <li>
    
                          <a href="design.html" title="Design">
          <i class="none"></i>
        Design</a>
            </li>
                  
      <li>
    
                          <a href="faq.html" title="Faq">
          <i class="none"></i>
        Faq</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                          
      <li>
    
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
            </ul>
                
            
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h2>Usage of this tool</h2>

<p>When you document your project using markdown you have to create the site source structure following the maven conventions:</p>

<pre><code>+-src
   |
   +-main
   |  |
   |  +-java
   |  |
   |  +-resources
   |
   +-site
      |
      +-markdown
         |
         +-index.md.vm
         |
         +-design.md.vm
         |
         +-usage.md.vm
         |
         +-snippet
</code></pre>

<p>On the tree diagram above you can see the documentation source files of this project. There are three pages in the <code>src/site/markdown</code> directory and the documentation files have <code>.md.vm</code> extensions. The extra extension <code>.vm</code> tells maven to filter the file through velocity.</p>

<p>The file <code>snippet</code> contains the velocity macros that perform the actual task when a file snippet is included into the documentation. This file should be copied from this project to your documentation directory. This is all you need from this project in addition to the know how. There is no extra plugin or any magic you need. Your project will remain totally standard maven using only an extra velocity macro file of 25 lines.</p>

<p>When you want to include some part of a file into your documentation you should first mark the start and the end of the part in the source file. This will probably be some kind of comment that has different format in XML, Java and any other language. In java for example you can write</p>

<pre><code>// SNIPPET START: my_snippet
public final static String snippetCode = "some string";
public final static int ONE = 1;
// SNIPPET END: my_snippet
</code></pre>

<p>If you have an XML file then you can write</p>

<pre><code>&lt;!-- SNIPPET START: xml_snippet --&gt;
&lt;links&gt;
        &lt;item name="Apache" href="http://www.apache.org/" /&gt;
        &lt;item name="Maven 2" href="http://maven.apache.org/" /&gt;
        &lt;item name="doxia-markdown" href="http://code.google.com/p/doxia-module-markdown/" /&gt;
&lt;/links&gt;
&lt;!-- SNIPPET END: xml_snippet --&gt;
</code></pre>

<p>The macro will think that a snippet starts on the next line of the source if it finds a line in the code that contains the string</p>

<pre><code>SNIPPET START: name
</code></pre>

<p>where <code>SNIPPET START:</code> should be written as you see, all capital letters, <code>:</code> adjacent to the letter <code>T</code> and one or more space between the two words. The <code>name</code> can actually be some string that can contain spaces, but you better do not. Use something that is identifier like, and put one or more space between the name and the <code>:</code> colon.</p>

<p>The macro will think that the snippet finished on the previous line if it finds a line in the code that contains the string</p>

<pre><code>SNIPPET END: name
</code></pre>

<p>Similar rules apply as in <code>SNIPPET START</code>, let me not repeat myself.</p>

<p>When you want to include the snippet into the markdown document you have to use some velocity macros.
You have to define two velocity variables, <code>$snippetFile</code> and <code>$snippetName</code>. You can do that using the commands:</p>

<pre><code>#set( $snippetFile = "/src/site/markdown/snippet" )
#set( $snippetName = "" )
#parse( "snippet" )
</code></pre>

<p>The variable <code>$snippetFile</code> should contain the name of the file that contains the snippet and the name has to be specified using full path starting from the root of the project.</p>

<p>The variable <code>$snippetName</code> should contain the string that identifies the snippet and which is used in the source file following the <code>START SNIPPET:</code> and <code>END SNIPPET:</code> containing lines. When these variables are defined you should <code>#parse()</code> the file <code>snippet.vm</code>.</p>

<p>You can define the two variables anywhere before the <code>parse</code>, but it is recommended to do it along with the parse velocity directive. Using two separate variables not only eases the life of the macro in <code>snippet</code> but also makes it handy when you want to include different snippets from the same file one after the other.</p>

<p>Finally here is a real example including into this document a snippet from the sample Java file of this project:</p>

<pre><code>    private SampleMain() throws Exception {
        throw new Exception();
    }
</code></pre>

<p>and that it is...</p>

                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2013.
          All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
